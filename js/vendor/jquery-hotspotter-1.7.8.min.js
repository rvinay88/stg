/*!
 * Title                   : Hotspotter - Cool Hotspot Maker jQuery Plugin
 * Author                  : Basm , aka z-B
 * Version                 : 1.7.8
 * Last Modified           : 26 June 2013
 * CodeCanyon Profile      : http://codecanyon.net/user/z-B
 * License                 : http://codecanyon.net/licenses/regular_extended
 */
(function(n,t){function u(t,i){var u=0,r;n(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]).each(function(){r=parseFloat(t.css(this.toString())),r=isNaN(r)?0:r,u+=r}),t.width(parseFloat(i)-u)}function f(t,i){var u=0,r;n(["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"]).each(function(){r=parseFloat(t.css(this.toString())),r=isNaN(r)?0:r,u+=r}),t.height(parseFloat(i)-u)}function e(t){t.find(".hs-wrap").each(function(){var u=n(this),r=u.find("div[data-coord]").data("spot"+i.opts.ns);if(r){r.scale();return}(r=new i(n(this),t.data("general_data"+i.opts.ns)),r.b_$spot.data("spot"+i.opts.ns,r),r.scale(),r.b_$wrap.show(),r.b_clearEvents(),r.init&&r.init(),r.b_activeon)&&(r.b_activeon=="always"?r.enter():r.b_bindDefaults())})}function r(n,t,i){var r=i.attr("data-imgdim").split(",");t.dw=i.width()/r[0],t.dh=i.height()/r[1],e(n)}var i=function(t,i){var u,e,r,f;if(this.b_generalData=i,this.b_$wrap=t,this.b_$spot=t.find("div[data-coord]"),this.b_name=this.b_$spot.attr("data-name"),this.b_coord=this.b_$spot.attr("data-coord").split(","),this.b_dim=this.b_$spot.attr("data-dim")?this.b_$spot.attr("data-dim").split(","):null,this.b_activeon=this.b_$spot.attr("data-activeon"),this.b_isActive=!1,u=this.b_$spot.attr("data-handler"),e=n.fn.hotspotter.hasOwnProperty(u)?n.fn.hotspotter[u]:n.fn.hotspotter.General,this.b_hdOpts=this.b_$spot.attr("data-handleropts")?this.b_$spot.attr("data-handleropts").split(","):null,this.b_$tooltip=t.find(".tt-wrap"),this.b_$inTooltip=this.b_$tooltip.find("> div"),this.b_tooltipW=this.b_$inTooltip.attr("data-width"),this.b_tooltipDir=this.b_$inTooltip.attr("data-dir")?this.b_$inTooltip.attr("data-dir"):"top",this.b_tooltipPos=this.b_$inTooltip.attr("data-pos"),this.b_tooltipAnim=this.b_$inTooltip.attr("data-anim"),this.b_tooltipCategory=this.b_$inTooltip.attr("data-category"),this.b_tooltipProduct=this.b_$inTooltip.attr("data-product"),this.b_tooltipDesigner=this.b_$inTooltip.attr("data-designer"),this.b_tooltipProductTemplate=this.b_$inTooltip.attr("data-template"),this.b_tooltipDesignerTemplate=this.b_$inTooltip.attr("data-template"),this.b_coord[0]=parseFloat(this.b_coord[0])/1328*100,this.b_coord[1]=parseFloat(this.b_coord[1])/556*100,this.b_dim)for(r=this.b_dim.length;r--;)this.b_dim[r]=parseFloat(this.b_dim[r]);f=parseFloat(this.b_tooltipPos),this.b_tooltipPos=isNaN(f)?24:f,n.extend(this,e)};i.prototype.b_clearEvents=function(){this.b_$wrap.unbind(i.opts.ns),this.b_$spot.unbind(i.opts.ns)},i.prototype.b_bindDefaults=function(){var n=this;n.b_activeon==="hover"&&n.enter&&n.leave?(n.b_$wrap.bind("mouseenter"+i.opts.ns,function(){n.enter()}),n.b_$wrap.bind("mouseleave"+i.opts.ns,function(){n.leave()})):n.b_activeon==="click"&&n.click&&n.b_$spot.bind("click"+i.opts.ns,function(t){t.stopPropagation(),n.click()})},i.prototype.b_showInContext=function(){var f=this.b_$wrap.parent().find(".hs-wrap > div[data-coord]").filter(":not(div[data-name="+this.b_name+"])"),r,u;f.each(function(){var t=n(this).data("spot"+i.opts.ns);t.b_activeon==="hover"&&t.b_isActive?t.leave():t.b_activeon==="click"&&t.b_isActive&&t.click()}),r=this.b_$wrap.parent().offset().left,u=this.b_$wrap.parent().offset().top,n(t).scrollLeft(r),n(t).scrollTop(u-i.opts.imgTopMargin),this.b_activeon!=="hover"||this.b_isActive?this.b_activeon!=="click"||this.b_isActive||this.click():this.enter()},i.opts={ns:".hotspotter",imgTopMargin:10},n.fn.hotspotter=function(u){var f=!1,o=this.data("spot"+i.opts.ns);return u=="isActive"?o?o.b_isActive:undefined:(this.each(function(){var o=n(this),s;if(u=="hide"){o.find(".hs-wrap").hide(),o.data("general_data"+i.opts.ns).visible=!1;return}if(u=="show"){o.find(".hs-wrap").show(),o.data("general_data"+i.opts.ns).visible=!0;return}if(s=o.data("spot"+i.opts.ns),u=="trigger"){s&&!s.b_isActive&&s.enter();return}if(u=="untrigger"){s&&s.b_isActive&&s.leave();return}var t=o.find("img[data-imgdim]"),h=o,c=h.data("general_data"+i.opts.ns);if(f=!0,n.extend(i.opts,u),c||(h.data("general_data"+i.opts.ns,{dw:1,dh:1,visible:!0,curActiveSpot:null}),c=h.data("general_data"+i.opts.ns)),!t.length){e(h);return}t.width()&&t.height()?r(h,c,t):(t.bind("load"+i.opts.ns,function(){r(h,c,t)}),t[0].complete&&(r(h,c,t),t.unbind("load"+i.opts.ns)))}),f&&(n(t).unbind(i.opts.ns),n(t).bind("hashchange"+i.opts.ns,function(){var u=t.location.hash.substr(1),r=n(".hs-wrap div[data-name="+n.trim(u)+"]");r.length&&r.data("spot"+i.opts.ns).b_showInContext()}),n(t).bind("load"+i.opts.ns,function(){n(t).trigger("hashchange"+i.opts.ns)})),this)},n.fn.hotspotter.version="1.7.7",n.fn.hotspotter.space=39,n.fn.hotspotter.General={init:function(){this.b_activeon==="click"&&this.b_$spot.css("cursor","pointer"),this.b_tooltipW&&this.b_$inTooltip.css("width",this.b_tooltipW),this.b_tooltipDir||(this.b_tooltipDir="top"),this.b_$spot.hasClass("img-spot")?(this.$img1=this.b_$spot.find("img").eq(0),this.$img2=this.b_$spot.find("img").eq(1),this.$img2.hide()):this.b_$spot.hasClass("markup-spot")&&(this.$markup1=this.b_$spot.find("div").eq(0),this.$markup2=this.b_$spot.find("div").eq(1),this.$markup2.hide())},isOnScreen:function(i,r){var w=n(".promo-gallery").height(),u=n(".header").height(),f=n(".bx-viewport").height(),e=w-u,o=n(t).width(),y=this.b_coord[0],p=this.b_coord[1],s=Math.round(p/100*556),h=Math.round(y/100*1328),c=n(i).width(),l=n(i).height(),a=Math.ceil(y),v=Math.ceil(p);switch(this.b_tooltipDir){case"top":n(r).removeClass("top"),this.changeTopPosition(c,h,o,l,s,e,a,v,u,f,i);break;case"bottom":n(r).removeClass("bottom"),this.changeBottomPosition(c,h,o,l,s,e,a,v,u,f,i);break;case"left":n(r).removeClass("left"),this.changeLeftPosition(c,h,o,l,s,e,a,v,u,f,i);break;case"right":n(r).removeClass("right"),this.changeRightPosition(c,h,o,l,s,e,a,v,u,f,i)}},setSpace:function(t,i){n(t).css("margin-"+i,n.fn.hotspotter.space)},changeTopPosition:function(t,i,r,u,f,e,o,s,h,c,l){var a;parseInt(this.b_tooltipCategory)===parseInt("1")?(u>f&&(a=u-f+c,n(l).css("margin-bottom",-a),this.setSpace(l,"left")),u<f&&(a=u-f+h,a<0?n(l).css("margin-top",a):n(l).css("margin-bottom",-a),this.setSpace(l,"left"))):(u>f&&(a=u-f+h,n(l).css("margin-bottom",-a),this.setSpace(l,"right")),u<f&&(a=u-f+h,a<0?n(l).css("margin-top",a):n(l).css("margin-bottom",-a),this.setSpace(l,"left")))},changeBottomPosition:function(t,i,r,u,f,e,o,s,h,c,l){var a;parseInt(this.b_tooltipCategory)===parseInt("1")?(u>f&&(a=u-f+c-s,n(l).css("margin-top",-a),this.setSpace(l,"left")),u<f&&(a=u-f-s,n(l).css("margin-top",a),this.setSpace(l,"right"))):(u>f&&(a=u-(u-f)-h,n(l).css("margin-top",-a),this.setSpace(l,"left")),u<f&&(a=u-f-s,n(l).css("margin-top",a),this.setSpace(l,"right")))},changeLeftPosition:function(t,i,r,u,f,e,o,s,h,c,l){var a;parseInt(this.b_tooltipCategory)===parseInt("1")?(u>f&&(a=u-(u-f)-h,n(l).css("margin-top",-a)),u<f&&(a=u-(u-f)-h,n(l).css("margin-top",-a))):u>f&&(a=u-(u-f)-h,n(l).css("margin-top",-a))},changeRightPosition:function(t,i,r,u,f,e,o,s,h,c,l){var a;parseInt(this.b_tooltipCategory)===parseInt("1")?(u>f&&(a=u-(u-f)-h,n(l).css("margin-top",-a)),u<f&&(a=u-(u-f)-h,n(l).css("margin-top",-a))):(u>f&&(a=u-(u-f)-h,n(l).css("margin-top",-a)),u<f&&(a=u-f-s,n(l).css("margin-top",a)))},enter:function(){var t,i;if(!this.b_isActive&&this.b_generalData.visible){if(this.b_$spot.hasClass("img-spot")?(this.$img1.hide(),this.$img2.show()):this.b_$spot.hasClass("markup-spot")?(this.$markup1.hide(),this.$markup2.show()):this.b_$spot.addClass("active"),parseInt(this.b_tooltipCategory)===parseInt("1")?(t=n("div.cycle-slide-active div.active").next(".tt-wrap").find(".tip-tooltip .hs-show"),i=n("div.cycle-slide-active div.active").next(".tt-wrap")):(t=n("div.cycle-slide-active div.active").next(".tt-wrap").find(".tip-tooltip .hd-show"),i=n("div.cycle-slide-active div.active").next(".tt-wrap")),this.isOnScreen((t,i)),this.b_$tooltip.stop(!0,!0),this.b_tooltipAnim==="fade")this.b_$tooltip.fadeIn("slow");else if(this.b_tooltipAnim==="goin"){this.b_$tooltip.show();switch(this.b_tooltipDir){case"top":this.b_$tooltip.css("bottom",100+parseFloat(3e3/this.b_$spot.height())+"%"),this.b_$tooltip.css("opacity","0"),this.b_$tooltip.animate({bottom:"100%",opacity:"1"},300);break;case"right":this.b_$tooltip.css("left",100+parseFloat(3e3/this.b_$spot.width())+"%"),this.b_$tooltip.css("opacity","0"),this.b_$tooltip.animate({left:"100%",opacity:"1"},300);break;case"bottom":this.b_$tooltip.css("top",100+parseFloat(3e3/this.b_$spot.height())+"%"),this.b_$tooltip.css("opacity","0"),this.b_$tooltip.animate({top:"100%",opacity:"1"},300);break;case"left":this.b_$tooltip.css("right",100+parseFloat(3e3/this.b_$spot.width())+"%"),this.b_$tooltip.css("opacity","0"),this.b_$tooltip.animate({right:"100%",opacity:"1"},300)}}else this.b_$tooltip.show();this.b_isActive=!0}},leave:function(){this.b_generalData.visible&&(this.b_$spot.hasClass("img-spot")?(this.$img1.show(),this.$img2.hide()):this.b_$spot.hasClass("markup-spot")?(this.$markup1.show(),this.$markup2.hide()):this.b_$spot.removeClass("active"),this.b_tooltipAnim==="fade"?this.b_$tooltip.fadeOut("slow"):this.b_$tooltip.hide(),this.b_isActive=!1)},click:function(){this.b_isActive?this.leave():(this.b_generalData.curActiveSpot&&this.b_generalData.curActiveSpot.leave(),this.b_generalData.curActiveSpot=this,this.enter())},scale:function(){var u=this.b_generalData.dw,e=this.b_generalData.dh,f;if(this.b_$wrap.css("left",this.b_coord[0]+"%"),this.b_$wrap.css("top",this.b_coord[1]+"%"),this.b_dim&&!this.b_$spot.hasClass("sniper-spot")&&(this.b_$spot.width(this.b_dim[0]*u+"px"),this.b_$spot.height(this.b_dim[1]*e+"px"),2 in this.b_dim&&this.b_$spot.css("border-radius",this.b_dim[2]*u)),this.b_$spot.hasClass("img-spot")){var t=this,o=this.b_$spot.find("> img").eq(0),r=this.b_$spot.find("> img").eq(1);this.scaleEventBind||(this.scaleEventBind=!0,o.bind("load"+i.opts.ns,function(){var i=n(this);i.show(),t.img1W||(t.img1W=this.width,t.img1H=this.height),i.width(t.img1W*t.b_generalData.dw),i.height(t.img1H*t.b_generalData.dh)}),r.bind("load"+i.opts.ns,function(){var i=n(this);t.img2W||(r.show(),t.img2W=this.width,t.img2H=this.height,r.hide()),i.width(t.img2W*t.b_generalData.dw),i.height(t.img2H*t.b_generalData.dh)})),o[0].complete&&o.trigger("load"+i.opts.ns),r[0].complete&&r.trigger("load"+i.opts.ns)}f=-26,this.b_$spot.hasClass("sniper-spot")&&(u=e=1,f=0),(this.b_tooltipDir==="top"||this.b_tooltipDir==="bottom")&&this.b_$tooltip.css("left",f+this.b_tooltipPos*u),(this.b_tooltipDir==="left"||this.b_tooltipDir==="right")&&this.b_$tooltip.css("top",f+this.b_tooltipPos*e)}},n.fn.hotspotter.Aim={init:function(){var t,r;if(this.$hsArea=this.b_$wrap.parent(),this.b_generalData.hsAim||(this.b_generalData.hsAim={$img:this.$hsArea.find("> img")}),this.aimGeneralData=this.b_generalData.hsAim,this.b_activeon=="click"&&this.b_$spot.css("cursor","pointer"),this.b_$inTooltip.appendTo(this.$hsArea),this.b_tooltipW&&(this.b_tooltipDir=="left"||this.b_tooltipDir=="right")&&this.b_$inTooltip.width(this.b_tooltipW),this.$ttContent=this.b_$inTooltip.find(".tt-content"),this.$ttCategory=this.b_$inTooltip.find(".tt-category"),this.b_generalData.hsAim.$img.bind("load"+i.opts.ns,n.proxy(this._getOriginalTooltipDim,this)),this._getOriginalTooltipDim(),this.b_tooltipDir&&this.b_$inTooltip.addClass(this.b_tooltipDir),this.b_$spot.hasClass("img-spot")&&(this.$img1=this.b_$spot.find("> img").eq(0),this.$img2=this.b_$spot.find("> img").eq(1)),this.b_hdOpts!="false"){if(!this.aimGeneralData.rect0)for(t=4;t--;)this.aimGeneralData["rect"+t]=n("<div/>").addClass("hs-aim-rect").appendTo(this.$hsArea),r=this.aimGeneralData,this.aimGeneralData["rect"+t].bind("mouseenter",function(){r.activeSpot&&r.activeSpot.b_activeon=="hover"&&r.activeSpot.leave()}),this.aimGeneralData["pillar"+t]=n("<div/>").addClass("hs-aim-pillar").appendTo(this.$hsArea);this.spotDim={w:this.b_$spot.outerWidth(),h:this.b_$spot.outerHeight(),x:this.b_$wrap.position().left,y:this.b_$wrap.position().top}}},enter:function(){var n,t,i;if(!this.b_isActive&&this.b_generalData.visible&&this.aimGeneralData.$img[0].complete)if(this.b_isActive=!0,this.aimGeneralData.activeSpot&&this.aimGeneralData.activeSpot.leave(),this.aimGeneralData.activeSpot=this,this.aimGeneralData.imgDim||(this.aimGeneralData.imgDim={w:this.aimGeneralData.$img.width(),h:this.aimGeneralData.$img.height()}),this.b_$spot.hasClass("img-spot")&&(this.$img1.hide(),this.$img2.show()),this.b_hdOpts=="false")this._showTooltip();else{for(this.b_$spot.addClass("hs-flatten"),this.aimGeneralData.rect0.width(this.aimGeneralData.imgDim.w),this.aimGeneralData.rect0.height(this.spotDim.y),this.aimGeneralData.rect0.css("left",0),this.aimGeneralData.rect0.css("top",0),this.aimGeneralData.rect1.width(this.aimGeneralData.imgDim.w-(this.spotDim.x+this.spotDim.w)),this.aimGeneralData.rect1.height(this.aimGeneralData.imgDim.h-this.spotDim.y),this.aimGeneralData.rect1.css("left",this.spotDim.x+this.spotDim.w),this.aimGeneralData.rect1.css("top",this.spotDim.y),this.aimGeneralData.rect2.width(this.spotDim.x+this.spotDim.w),this.aimGeneralData.rect2.height(this.aimGeneralData.imgDim.h-(this.spotDim.y+this.spotDim.h)),this.aimGeneralData.rect2.css("left",0),this.aimGeneralData.rect2.css("top",this.spotDim.y+this.spotDim.h),this.aimGeneralData.rect3.width(this.spotDim.x),this.aimGeneralData.rect3.height(this.spotDim.h),this.aimGeneralData.rect3.css("left",0),this.aimGeneralData.rect3.css("top",this.spotDim.y),this.aimGeneralData.pillar0.width(4),this.aimGeneralData.pillar0.height(0),this.aimGeneralData.pillar0.css("top",0),this.aimGeneralData.pillar0.css("left",this.spotDim.x+this.spotDim.w/2),this.aimGeneralData.pillar1.width(0),this.aimGeneralData.pillar1.height(4),this.aimGeneralData.pillar1.css("top",this.spotDim.y+this.spotDim.h/2),this.aimGeneralData.pillar1.css("left",this.aimGeneralData.imgDim.w),this.aimGeneralData.pillar2.width("4"),this.aimGeneralData.pillar2.height(0),this.aimGeneralData.pillar2.css("bottom",this.b_$wrap.parent().height()-this.aimGeneralData.imgDim.h),this.aimGeneralData.pillar2.css("left",this.spotDim.x+this.spotDim.w/2),this.aimGeneralData.pillar3.width(0),this.aimGeneralData.pillar3.height("4"),this.aimGeneralData.pillar3.css("top",this.spotDim.y+this.spotDim.h/2),this.aimGeneralData.pillar3.css("left",0),n=4;n--;)this.aimGeneralData["rect"+n].show(),this.aimGeneralData["pillar"+n].show();t=this.aimGeneralData.imgDim.w-(this.spotDim.x+this.spotDim.w),i=this,this.aimGeneralData.pillar0.animate({height:this.spotDim.y},300),this.aimGeneralData.pillar1.animate({width:t,left:"-="+t},300),this.aimGeneralData.pillar2.animate({height:this.aimGeneralData.imgDim.h-(this.spotDim.y+this.spotDim.h)},300),this.aimGeneralData.pillar3.animate({width:this.spotDim.x},300,function(){i._showTooltip()})}},leave:function(){if(this.aimGeneralData.$img[0].complete&&this.b_generalData.visible){if(this.b_isActive=!1,this.aimGeneralData.activeSpot=null,this.b_$spot.removeClass("hs-flatten"),this.b_$spot.hasClass("img-spot")&&(this.$img1.show(),this.$img2.hide()),this.b_hdOpts!="false")for(var t=4;t--;)this.aimGeneralData["rect"+t].hide(),this.aimGeneralData["pillar"+t].stop(),this.aimGeneralData["pillar"+t].hide();this.$ttContent.hide(),this.$ttCategory.hide();switch(this.b_tooltipDir){case"top":this.b_$inTooltip.animate({height:0},400,function(){n(this).hide()});break;case"right":this.b_$inTooltip.animate({width:0},400,function(){n(this).hide()});break;case"bottom":this.b_$inTooltip.animate({height:0},400,function(){n(this).hide()});break;case"left":this.b_$inTooltip.animate({width:0,right:"100%"},400,function(){n(this).hide()})}}},click:function(){this.b_isActive?this.leave():this.enter()},scale:function(){if(this.b_$wrap.css("left",this.b_coord[0]+"%"),this.b_$wrap.css("top",this.b_coord[1]+"%"),this.b_dim&&!this.b_$spot.hasClass("sniper-spot")&&(this.b_$spot.width(this.b_dim[0]*this.b_generalData.dw),this.b_$spot.height(this.b_dim[1]*this.b_generalData.dw),2 in this.b_dim&&this.b_$spot.css("border-radius",this.b_dim[2]*this.b_generalData.dw)),this.b_$spot.hasClass("img-spot")){var t=this,u=this.b_$spot.find("> img").eq(0),r=this.b_$spot.find("> img").eq(1);this.scaleEventBind||(this.scaleEventBind=!0,u.bind("load"+i.opts.ns,function(){var i=n(this);i.show(),t.img1W||(t.img1W=this.width,t.img1H=this.height),i.width(t.img1W*t.b_generalData.dw),i.height(t.img1H*t.b_generalData.dh)}),r.bind("load"+i.opts.ns,function(){var i=n(this);t.img2W||(r.show(),t.img2W=this.width,t.img2H=this.height,r.hide()),i.width(t.img2W*t.b_generalData.dw),i.height(t.img2H*t.b_generalData.dh)})),u[0].complete&&u.trigger("load"+i.opts.ns),r[0].complete&&r.trigger("load"+i.opts.ns)}this.spotDim&&(this.spotDim={w:this.b_$spot.outerWidth(),h:this.b_$spot.outerHeight(),x:this.b_$wrap.position().left,y:this.b_$wrap.position().top},this.aimGeneralData.imgDim={w:this.aimGeneralData.$img.width(),h:this.aimGeneralData.$img.height()})},_getOriginalTooltipDim:function(){this.$ttContent.show(),this.$ttCategory.show(),this.ttOrignW=this.b_$inTooltip.width(),this.ttOrignH=this.b_$inTooltip.height(),this.$ttContent.hide(),this.$ttCategory.hide()},_showTooltip:function(){function n(){t.show(),i.show()}this.b_$inTooltip.show();var t=this.$ttContent,i=this.$ttCategory;switch(this.b_tooltipDir){case"top":u(this.b_$inTooltip,this.aimGeneralData.imgDim.w),this.b_$inTooltip.css("left",0),this.b_$inTooltip.css("bottom","100%"),this.b_$inTooltip.height(0),this.b_$inTooltip.animate({height:this.ttOrignH},400,n);break;case"right":f(this.b_$inTooltip,this.aimGeneralData.imgDim.h),this.b_$inTooltip.css("left",this.aimGeneralData.imgDim.w),this.b_$inTooltip.css("top",0),this.b_$inTooltip.width(0),this.b_$inTooltip.animate({width:this.ttOrignW},400,n);break;case"bottom":u(this.b_$inTooltip,this.aimGeneralData.imgDim.w),this.b_$inTooltip.css("left",0),this.b_$inTooltip.css("top",this.aimGeneralData.imgDim.h),this.b_$inTooltip.height(0),this.b_$inTooltip.animate({height:this.ttOrignH},400,n);break;case"left":f(this.b_$inTooltip,this.aimGeneralData.imgDim.h),this.b_$inTooltip.css("top",0),this.b_$inTooltip.width(0),this.b_$inTooltip.css("right","100%"),this.b_$inTooltip.animate({width:this.ttOrignW},400,n)}}}})(jQuery,window)